{extend name="common/base" /}
{block name="header"}
<link rel="stylesheet" href="/static/backend/css/font.css">
<link rel="stylesheet" href="/static/backend/css/xadmin.css">
{/block}
{block name="content"}
<div class="x-body">
    <form class="layui-form">
        {volist name="info.field" id="vo"}
            {present name="vo.is_key"}
                <input name="{$vo.field}" type="hidden" value="{$info[$vo.field]|default=''}">
                {php}continue;{/php}    
            {/present}
            {switch name="vo.type"}

            {case value="text"}
            <div class="layui-form-item">
                <label for="{$vo.field}" class="layui-form-label">
                    {$vo.title}: 
                </label>
                <div class="layui-input-inline">
                    <input type="text" id="{$vo.field}" name="{$vo.field}"   {if $vo.validate}lay-verify="{$vo.field}"{/if} autocomplete="off" class="layui-input" value="{$info[$vo.field]|default=''}">
                </div>
                <div class="layui-form-mid layui-word-aux">
                    <span class="x-red">*</span>&nbsp;&nbsp;{$vo.tip|default=''}
                </div>
            </div>        
            {/case}

            {case value="textarea"}
            <div class="layui-form-item" >
                <label for="{$vo.field}" class="layui-form-label">
                    {$vo.title}: 
                </label>
                <div class="layui-input-inline" style="width: 500px;">
                    <textarea name="{$vo.field}" placeholder="{$vo.tip|default=''}" class="layui-textarea" {if $vo.validate}lay-verify="required"{/if}>{$info[$vo.field]|default=''}</textarea>
                    <!-- <textarea name="{$vo.field}" placeholder="{$vo.tip|default=''}" class="layui-textarea" {if $vo.validate}lay-verify="{$vo.field}"{/if}>{$info[$vo.field]|default=''}</textarea> -->
                </div>
                <div class="layui-form-mid layui-word-aux">
                    {if $vo.validate}<span class="x-red">*</span>{/if}&nbsp;&nbsp;{$vo.tip|default=''}
                </div>
            </div> 
            {/case}   

            {case value="select"}
            <div class="layui-form-item" >
                <label for="{$vo.field}" class="layui-form-label">
                    {$vo.title}: 
                </label>
                <div class="layui-input-inline" >
                    <select name="{$vo.field}" {if $vo.validate}lay-verify="required"{/if}>
                        <option value="">请选择{$vo.title}</option>
                    {volist name="vo.option" id="o"}
                        <option value="{$o.value}" {if $o.checked}selected{/if}>{$key}</option>                        
                    {/volist}
                    </select>     
                </div>
                <div class="layui-form-mid layui-word-aux">
                    {if $vo.validate}<span class="x-red">*</span>{/if}&nbsp;&nbsp;{$vo.tip|default=''}
                </div>
            </div> 
            {/case} 

            {case value="radio"}
            <div class="layui-form-item" >
                <label for="{$vo.field}" class="layui-form-label">
                    {$vo.title}: 
                </label>
                <div class="layui-input-inline" >                    
                    {volist name="vo.option" id="o"}
                        <input type="radio" name="{$vo.field}" value="{$o.value}" title="{$key}" {if $o.checked}checked="checked"{/if}>                      
                    {/volist}                    
                </div>
                <div class="layui-form-mid layui-word-aux">
                    {if $vo.validate}<span class="x-red">*</span>{/if}&nbsp;&nbsp;{$vo.tip|default=''}
                </div>
            </div> 
            {/case} 

            {/switch}
        {/volist}
        
        <div class="layui-form-item">
            <label for="L_repass" class="layui-form-label">
            </label>
            <button  class="layui-btn" lay-filter="add" lay-submit="" url="{:url('save', '', '')}">
                保存
            </button>
        </div>
    </form>
</div>
<script>
layui.use(['form','layer'], function(){
    $ = layui.jquery;
    var form = layui.form,
    layer = layui.layer;

    form.verify({
        'name': function(value, item){              
            if(!/\S+/.test(value)){
                return '123123';
            }
        }
        // 'config': function(v, i){
        //     if(!/[\S]+/.test(v)){
        //         return 'config';
        //     }
        // }


    });
    //监听提交
    form.on('submit(add)', function(data){        
        // $.ajax({
        //     url: $(this).attr('url'),
        //     type: "post",
        //     data: data.field,
        //     success:function(res){
        //         if(res.status == 1){                    
        //             layer.alert("保存成功", {icon: 6},function () {                        
        //                 var index = parent.layer.getFrameIndex(window.name);                        
        //                 parent.layer.close(index);
        //                 parent.location.reload();
        //             });
        //         }else{
        //             layer.msg(res.msg);
        //         }
        //     }
        // });
        return false;
    });


});
</script>

{/block}